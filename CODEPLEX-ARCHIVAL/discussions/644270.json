[
  {
    "Id": "1442084",
    "ThreadId": "644270",
    "Html": "Hi,\r<br />\n<br />\nSo I've deployed the Adobe Flash updates via the catalog and thats all working great! &quot;Thanks!&quot; But now I want to adjust a few options like turning off the update settings in flash by disabling the &quot;Adobe Flash Player Update Service&quot; etc and modifying the &quot;mms.cfg&quot; file in &quot;C:\\Windows\\SysWOW64\\Macromed\\Flash&quot;\r<br />\n<br />\nWhat I also want to do is track these customisations and if I later want to change them I can release an updated &quot;Flash Customisation&quot; update so I'm also trying to add a new RegKey and Value so I can use some RegKey exists rules in my installed / installable rules in the the update creation wizard.\r<br />\n<br />\nMy custom update simple stops a service, disables a service, adds a regkey, adds a regvalue for the version number of my customisation, copys the mms.cfg file to mms.bak and create a new one with some settings.\r<br />\n<br />\nThe update appears as I would expect on my test machine but fails to install with error: Code 80072EE2\r<br />\n<br />\nThe logs in WindowsUpdate.log show this:\r<br />\n2015-08-27\t14:01:01:150\t 952\ta94\tAgent\t  * Added update {6CE2B24C-3140-4327-B8C2-8FD7FB01D1C0}.3 to search result\r<br />\n2015-08-27\t14:01:01:150\t 952\ta94\tAgent\t  * Added update {CE726850-141F-4D1C-9D66-F0081572556A}.1 to search result\r<br />\n2015-08-27\t14:01:01:150\t 952\ta94\tAgent\t  * Found 2 updates and 81 categories in search; evaluated appl. rules of 498 out of 1062 deployed entities\r<br />\n2015-08-27\t14:01:01:150\t 952\ta94\tAgent\t*********\r<br />\n2015-08-27\t14:01:01:150\t 952\ta94\tAgent\t**  END  **  Agent: Finding updates [CallerId = AutomaticUpdates]\r<br />\n2015-08-27\t14:01:01:150\t 952\ta94\tAgent\t*************\r<br />\n2015-08-27\t14:01:01:150\t 952\t774\tAU\t&gt;&gt;##  RESUMED  ## AU: Search for updates [CallId = {0CC16DD2-477E-461E-A8D6-275E06DD8D8E}]\r<br />\n2015-08-27\t14:01:01:150\t 952\t774\tAU\t  # 2 updates detected\r<br />\n2015-08-27\t14:01:01:150\t 952\t774\tAU\t#########\r<br />\n2015-08-27\t14:01:01:150\t 952\t774\tAU\t##  END  ##  AU: Search for updates [CallId = {0CC16DD2-477E-461E-A8D6-275E06DD8D8E}]\r<br />\n2015-08-27\t14:01:01:150\t 952\t774\tAU\t#############\r<br />\n2015-08-27\t14:01:01:150\t 952\t774\tAU\tFeatured notifications is disabled.\r<br />\n2015-08-27\t14:01:01:150\t 952\t774\tAU\tSuccessfully wrote event for AU health state:0\r<br />\n2015-08-27\t14:01:01:150\t 952\ta94\tReport\tREPORT EVENT: {390F8282-AB56-4BC9-9931-6EAB5DA20C25}\t2015-08-27 14:00:56:869+1200\t1\t161\t101\t{CE726850-141F-4D1C-9D66-F0081572556A}\t1\t80072ee2\tAutomaticUpdatesWuApp\tFailure\tContent Download\tError: Download failed.\r<br />\n2015-08-27\t14:01:01:166\t 952\t774\tAU\tSuccessfully wrote event for AU health state:0\r<br />\n2015-08-27\t14:01:01:166\t 952\ta94\tReport\tCWERReporter::HandleEvents - WER report upload completed with status 0x8\r<br />\n2015-08-27\t14:01:01:166\t 952\ta94\tReport\tWER Report sent: 7.6.7600.256 0x80072ee2 CE726850-141F-4D1C-9D66-F0081572556A Download 101 Managed\r<br />\n2015-08-27\t14:01:01:166\t 952\ta94\tReport\tCWERReporter finishing event handling. (00000000)\r<br />\n2015-08-27\t14:01:01:166\t 952\t9c8\tAU\tGetting featured update notifications.  fIncludeDismissed = true\r<br />\n2015-08-27\t14:01:01:166\t 952\t9c8\tAU\tNo featured updates available.\r<br />\n2015-08-27\t14:01:06:166\t 952\ta94\tReport\tCWERReporter finishing event handling. (00000000)\r<br />\n2015-08-27\t14:01:14:275\t 952\t870\tAU\tLaunched new AU client for directive 'Download Progress', session id = 0x2\r<br />\n2015-08-27\t14:01:14:275\t 596\t360\tMisc\t===========  Logging initialized (build: 7.6.7600.256, tz: +1200)  ===========\r<br />\n2015-08-27\t14:01:14:275\t 596\t360\tMisc\t  = Process: C:\\Windows\\system32\\wuauclt.exe\r<br />\n2015-08-27\t14:01:14:275\t 596\t360\tAUClnt\tLaunched Client UI process\r<br />\n2015-08-27\t14:01:14:291\t 596\t360\tMisc\t===========  Logging initialized (build: 7.6.7600.256, tz: +1200)  ===========\r<br />\n2015-08-27\t14:01:14:291\t 596\t360\tMisc\t  = Process: C:\\Windows\\system32\\wuauclt.exe\r<br />\n2015-08-27\t14:01:14:291\t 596\t360\tMisc\t  = Module: C:\\Windows\\system32\\wucltux.dll\r<br />\n2015-08-27\t14:01:14:291\t 596\t360\tCltUI\tAU client got new directive = 'Download Progress', serviceId = {3DA21691-E39D-4DA6-8A4B-B43877BCB1B7}, return = 0\r<br />\n2015-08-27\t14:01:22:509\t 952\t854\tDnldMgr\tError 0x80072ee2 occurred while downloading update; notifying dependent calls.\r<br />\n2015-08-27\t14:01:22:509\t 952\t774\tAU\tAU checked download status and it changed: Downloading is paused\r<br />\n2015-08-27\t14:01:22:509\t 596\t360\tCltUI\tAU client got new directive = 'Shutdown', serviceId = {3DA21691-E39D-4DA6-8A4B-B43877BCB1B7}, return = 0\r<br />\n2015-08-27\t14:01:22:525\t 952\t870\tAU\tAU received handle event\r<br />\n2015-08-27\t14:13:40:033\t 952\ta94\tReport\tUploading 5 events using cached cookie, reporting URL = <a href=\"https://wsus.modrus.net/ReportingWebService/ReportingWebService.asmx\" rel=\"nofollow\">https://wsus.modrus.net/ReportingWebService/ReportingWebService.asmx</a>\r<br />\n2015-08-27\t14:13:41:877\t 952\ta94\tPT\tWARNING: ReportEventBatch failure, error = 0x8024400D, soap client error = 7, soap error code = 300, HTTP status code = 200\r<br />\n2015-08-27\t14:13:41:877\t 952\ta94\tPT\tWARNING: SOAP Fault: 0x00012c\r<br />\n2015-08-27\t14:13:41:892\t 952\ta94\tPT\tWARNING:     faultstring:Fault occurred\r<br />\n2015-08-27\t14:13:41:892\t 952\ta94\tPT\tWARNING:     ErrorCode:ConfigChanged(2)\r<br />\n2015-08-27\t14:13:41:892\t 952\ta94\tPT\tWARNING:     Message:(null)\r<br />\n2015-08-27\t14:13:41:892\t 952\ta94\tPT\tWARNING:     Method:&quot;<a href=\"http://www.microsoft.com/SoftwareDistribution/ReportEventBatch\" rel=\"nofollow\">http://www.microsoft.com/SoftwareDistribution/ReportEventBatch</a>&quot;\r<br />\n2015-08-27\t14:13:41:892\t 952\ta94\tPT\tWARNING:     ID:0bb03b45-4ed0-4da3-8c24-294b00332302\r<br />\n2015-08-27\t14:13:41:892\t 952\ta94\tReport\tWARNING: Reporter failed to upload events with hr = 8024400d.\r<br />\n<br />\nAm I going about this in the wrong way? Are there other logs I need to look at? How else might I disable flash updates without messing with the catalog updates from Adobe as it takes so much time to create custom updates I want to try and make this as easy to maintain as possible.\r<br />\n<br />\nThanks again for the great product!\r<br />\nMark, <br />\n",
    "PostedDate": "2015-08-26T19:22:41.18-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1442232",
    "ThreadId": "644270",
    "Html": "Hi,\r<br />\n<br />\nEasiest way would be gpo configuration. Disable the update service, copy the cfg file and delete the update task.\r<br />\n<br />\nRegards\r<br />\nNorbert<br />\n",
    "PostedDate": "2015-08-27T22:40:22.41-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1442458",
    "ThreadId": "644270",
    "Html": "Hi NorbertFe,<br />\n<br />\nUnfortunately thats not such an easy option for me as this WSUS server is serving over 50 domains so I'm trying to do all the config in WPP.<br />\n<br />\nI'm going to try and break down the task into 1 regedit, one file system change and one service change and see which of those 3 work or fail and go from there.<br />\n<br />\nThanks<br />\nMark<br />\n",
    "PostedDate": "2015-08-30T16:25:59.197-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1442473",
    "ThreadId": "644270",
    "Html": "So I think I might be getting somewhere with this. So far I have this:\r<br />\n<br />\nCustom update with the following steps:<br />\n<ul>\n<li>Stop service AdobeFlashPLayerUpdateSvc</li>\n<li>Pause 3 seconds</li>\n<li>disable service AdobeFlashPLayerUpdateSvc</li>\n<li>Add a registry key - I'm setting a new key in HKLM\\Software so I can track my deployments and make it easier with my installed/installable rules used later</li>\n<li>Add registry value - As above, for the value I'm using &quot;FlashCustomisationVer&quot; Value &quot;1&quot;</li>\n<li>Modify registry value - Again same as above - not had time to test what happens if its already there so played it safe</li>\n<li>Delete file - C:\\Windows\\SysWOW64\\Macromed\\Flash\\mms.cfg</li>\n<li>Pause 5 seconds</li>\n<li>\nCreate file - C:\\Windows\\SysWOW64\\Macromed\\Flash\\mms.cfg - Content &quot;AutoUpdateDisable=1&quot;<br />\n</li>\n</ul>\nWhat I still need to see is if I can remove that scheduled task Flash adds but I'm hoping the above will be enough, also I wanted to add a 2nd line into the new cfg file but if you just create a new line in the custom update editor there no new line in the file and its append. I'll test this more when I get a chance.\r<br />\n<br />\nMy installed/installable rules are then just:\r<br />\nRegSz Key - my custom key &gt; Comparison EqualTo Data=1 with RegType32=Ture\r<br />\nRegSz Key - my custom key &gt; Comparison EqualTo Data=1 with Reverse Rule=Ture, RegType32=Ture\r<br />\n<br />\nHopefully this might help someone else, if anyone has any ideas on improvements they would be greatly received.\r<br />\n<br />\nThanks\r<br />\nMark<br />\n",
    "PostedDate": "2015-08-30T21:59:00.927-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1443359",
    "ThreadId": "644270",
    "Html": "Hi, your WindowsUpdate.log is full of error :<br />\n<ul>\n<li>80072ee2 AutomaticUpdatesWuApp Failure Content Download Error: Download failed. </li>\n<li>Error 0x80072ee2 occurred while downloading update; notifying dependent calls. </li>\n<li>\nerror = 0x8024400D, soap client error = 7, soap error code = 300, HTTP status code = 200<br />\n</li>\n</ul>\nLooks like you have big problems with your wsus !!!<br />\n",
    "PostedDate": "2015-09-06T09:36:10.863-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]